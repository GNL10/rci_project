FND k i i.IP i.port\n

KEY k succ succ.IP succ.port\n

SUCCCONF\n

SUCC succ succ.IP succ.port\n

NEW i i.IP i.port\n





// dar timeout qd nao se recebe key ?? talvez meter timeout, pontos extra
// subtrair a medida que o gajo vai avancando
bloquear 1 find, so um de cada vez

// e se recebermos duas mensagens TCP de uma vez ? 
2 comandos numa mensagem???? considerar!!!

write falhar ? caso a caso
// verificar casos de saida de erros

repetir o udp? podemos repetir para dar rule out a erros de conexao

// estamos a mandar lixo ?

// ekey no udp, verificar se chaves sao iguais
fazer close no predecessor qd nova sessao entra
// saida abruta, atualizar chaves

//TESTES A FAZER:
-Um cliente mandar milh√µes de bytes sem nunca mandar um \n